\begin{figure}
%\medskip
\begin{lstlisting}
	var customer = {Id:"", couponStatus:"", ...};
	var coupon = {Id:"", ...}
	var coupSt = 'default';
	...
	$document.ready(function() {
		...
		$('#couponButt').click(selectCoupon);
	});
	function selectCoupon() {
		...
		coupElem = $('#couponButt');
		if(coupSt != 'used'){
			coupSt = 'used';
			discountCode = coupElem.data('value');
			coupElem.removeClass(discountCode); 
			coupon.Id = discountCode;
		}
		var discountVal = calcDiscount(discountCode,customer.Id);
		var finalVal = $('#merchPrice').text() - discountVal;
		$('#calcPrice').text(finalVal);
		customer.couponStatus = coupon.Id + '-' + coupSt;  
	}

\end{lstlisting}
\vspace{-0.1in} 

\caption{\javascript code of the running example.}
\label{Fig:example}
\vspace{-0.2in} 

\end{figure}